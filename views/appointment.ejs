<html lang="en">
<!--HEADER-->
<%- include('layouts/header'); -%>
<body class="d-flex flex-column vh-100">
<!--NAVBAR-->
<%- include('layouts/navbar') -%>
<!--MAIN CONTENT-->
<header class="bg-dark text-light text-center flex-grow-1">
  <div class="container d-flex flex-column justify-content-center align-items-center py-5">
    <form class="text-dark w-100" method="post" action="/appointment/save" id="timeSlotsForm">
      <div class="row text-start mb-3">
        <div class="col-12">
          <h3 class="text-light">Appointments</h3>
          <p class="text-secondary">Choose all available appointment time slots below</p>
        </div>
      </div>
      <% if (typeof formErrors === 'object' && formErrors.length > 0) { %>
        <div class="row text-start mb-3">
          <div class="col-12">
            <div id="feedback-wrapper" class="w-100 text-start py-2 px-3 bg-light rounded">
              <% formErrors.forEach(e=> { %>
                <span class="mb-1 text-danger"><i
                      class="fa-solid fa-exclamation-triangle me-2"></i><%= e; %></span><br>
              <% }); %>
            </div>
          </div>
        </div>
      <% } %>
      <div class="row">
        <div class="col-12 col-md-6 mb-3">
          <div class="row">
            <div class="col-12 text-start">
              <div class="input-group mb-3">
                <label for="appointment" class="input-group-text fw-medium">Time Slot</label>
                <input type="datetime-local" class="form-control" id="appointment" name="appointment"
                       placeholder="dd/mm/yyyy, hh:mm"
                       value="">
                <button type="button" class="btn btn-lg btn-outline-warning px-5" id="addBtn">Add
                </button>
              </div>
            </div>
            <div class="col-12 text-start">
              <button type="submit" class="btn btn-lg btn-warning px-5">Save All</button>
              <input type="hidden" class="hide" id="allTimeSlots" name="allTimeSlots" placeholder="" value="" readonly
                     hidden>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 text-light mb-3">
          <div class="text-start border border-light rounded py-2 px-2" id="timeSlotsWrapper">
            <h5 class="text-light">Available Times</h5>
            <p class="text-secondary">Click "Save All" button to save all selected time slots</p>
            <hr>
            <div id="timeSlots" class="text-start textMono timeSlots"></div>
          </div>
        </div>
      </div>
    </form>
  </div>
</header>
<!--FOOTER-->
<%- include('layouts/footer') -%>
<script src="/js/addAppointment.js" type="text/javascript"></script>
</body>
</html>